<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Reports Upload & History - HealthCare Clinic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-family: 'Arial', sans-serif;
        }
        .upload-zone {
            border: 2px dashed #ccc;
            border-radius: 15px;
            transition: border-color 0.3s, background-color 0.3s;
            background-color: #fafafa;
        }
        .upload-zone.dragover {
            border-color: #4f46e5;
            background-color: #e0e7ff;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e5e7eb;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: #10b981;
            transition: width 0.3s ease;
        }
        .file-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 8px;
        }
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 10px;
            transition: box-shadow 0.3s;
        }
        .history-item:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100">
    <div class="container mx-auto max-w-6xl px-4 py-8">
        <h1 class="text-4xl font-bold text-center mb-8 text-gray-800">
            <i class="fas fa-upload mr-2"></i>Medical Reports Portal
        </h1>

        <!-- Tabs for navigation -->
        <div class="flex justify-center mb-8">
            <button id="uploadTab" class="px-4 py-2 bg-indigo-600 text-white rounded-l-lg font-semibold tab-active">Upload New Report</button>
            <button id="historyTab" class="px-4 py-2 bg-gray-600 text-white rounded-r-lg font-semibold" onclick="switchTab('history')">View History</button>
        </div>

        <!-- Upload Section -->
        <div id="uploadSection" class="bg-white rounded-xl shadow-lg p-8 mb-8 fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">Upload Your Medical Reports</h2>
            <div id="uploadZone" class="upload-zone p-12 text-center cursor-pointer">
                <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                <p class="text-lg text-gray-600 mb-2">Drag & drop files here or click to select</p>
                <p class="text-sm text-gray-500">Accepted: PDF, JPG, PNG, DOC (Max 10MB each)</p>
                <input type="file" id="fileInput" multiple accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" style="display: none;" />
            </div>
            <div id="fileList" class="mt-6"></div>
            <button id="submitBtn" class="w-full mt-6 p-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 disabled:bg-gray-400" disabled>
                Upload Reports
            </button>
            <div id="progressSection" class="mt-4" style="display: none;">
                <p class="text-sm text-gray-600">Uploading... <span id="uploadPercent">0</span>%</p>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
            <div id="confirmation" class="mt-6 p-4 bg-green-100 border border-green-300 rounded-lg" style="display: none;">
                <p class="text-green-800 font-semibold">Reports uploaded successfully! You will receive a confirmation email shortly.</p>
            </div>
        </div>

        <!-- History Section -->
        <div id="historySection" class="bg-white rounded-xl shadow-lg p-8 fade-in" style="display: none;">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">Upload History</h2>
            <div class="mb-4 flex flex-col sm:flex-row justify-between items-center">
                <input type="text" id="searchInput" placeholder="Search by file name..." class="p-2 border border-gray-300 rounded-lg flex-1 mr-4 mb-2 sm:mb-0">
                <button onclick="filterHistory()" class="px-4 py-2 bg-indigo-600 text-white rounded-lg">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
            <div id="historyList" class="space-y-4 max-h-96 overflow-y-auto"></div>
        </div>
    </div>

    <script>
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        const fileList = document.getElementById('fileList');
        const submitBtn = document.getElementById('submitBtn');
        const progressSection = document.getElementById('progressSection');
        const progressFill = document.querySelector('.progress-fill');
        const uploadPercent = document.getElementById('uploadPercent');
        const confirmation = document.getElementById('confirmation');
        const historyList = document.getElementById('historyList');
        const searchInput = document.getElementById('searchInput');
        const uploadTab = document.getElementById('uploadTab');
        const historyTab = document.getElementById('historyTab');
        const uploadSection = document.getElementById('uploadSection');
        const historySection = document.getElementById('historySection');

        let selectedFiles = [];
        let uploadHistory = JSON.parse(localStorage.getItem('uploadHistory')) || [];

        // Add mock data if empty
        if (uploadHistory.length === 0) {
            uploadHistory = [
                { name: 'X-ray_report.pdf', size: 2.5, date: new Date('2023-05-15').toISOString().split('T')[0], status: 'Uploaded' },
                { name: 'Blood_test.jpg', size: 1.8, date: new Date('2023-06-20').toISOString().split('T')[0], status: 'Uploaded' },
                { name: 'MRI_scan.png', size: 4.2, date: new Date('2023-07-10').toISOString().split('T')[0], status: 'Uploaded' }
            ];
            localStorage.setItem('uploadHistory', JSON.stringify(uploadHistory));
        }

        function switchTab(tab) {
            if (tab === 'history') {
                uploadSection.style.display = 'none';
                historySection.style.display = 'block';
                uploadTab.classList.remove('bg-indigo-600');
                historyTab.classList.add('bg-indigo-600');
                renderHistory();
            } else {
                historySection.style.display = 'none';
                uploadSection.style.display = 'block';
                historyTab.classList.remove('bg-indigo-600');
                uploadTab.classList.add('bg-indigo-600');
            }
        }

        uploadTab.onclick = () => switchTab('upload');

        uploadZone.addEventListener('click', () => fileInput.click());
        uploadZone.addEventListener('dragover', handleDragOver);
        uploadZone.addEventListener('dragleave', handleDragLeave);
        uploadZone.addEventListener('drop', handleDrop);
        fileInput.addEventListener('change', handleFileSelect);
        submitBtn.addEventListener('click', simulateUpload);

        function handleDragOver(e) {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            addFiles(files);
        }

        function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            addFiles(files);
        }

        function addFiles(files) {
            selectedFiles = [...selectedFiles, ...files];
            renderFileList();
            submitBtn.disabled = selectedFiles.length === 0;
        }

        function renderFileList() {
            fileList.innerHTML = '';
            selectedFiles.forEach((file, index) => {
                const fileName = file.name;
                const fileSize = (file.size / 1024 / 1024).toFixed(2) + ' MB';
                const isImage = file.type.startsWith('image/');

                const fileItem = document.createElement('div');
                fileItem.className = 'file-item fade-in';
                fileItem.innerHTML = `
                    <div class="mr-3">
                        ${isImage ? '<i class="fas fa-file-image text-gray-500 text-2xl"></i>' : '<i class="fas fa-file-pdf text-gray-500 text-2xl"></i>'}
                    </div>
                    <div class="flex-1">
                        <p class="font-semibold">${fileName}</p>
                        <p class="text-sm text-gray-600">${fileSize}</p>
                    </div>
                    <button onclick="removeFile(${index})" class="text-red-500 hover:text-red-700">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                fileList.appendChild(fileItem);
            });
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            renderFileList();
            submitBtn.disabled = selectedFiles.length === 0;
        }

        function simulateUpload() {
            confirmation.style.display = 'none';
            progressSection.style.display = 'block';
            progressFill.style.width = '0%';
            uploadPercent.textContent = '0';

            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                progressFill.style.width = progress + '%';
                uploadPercent.textContent = Math.floor(progress);
                if (progress >= 100) {
                    clearInterval(interval);
                    progressSection.style.display = 'none';
                    confirmation.style.display = 'block';
                    selectedFiles.forEach(file => {
                        uploadHistory.push({
                            name: file.name,
                            size: (file.size / 1024 / 1024).toFixed(2),
                            date: new Date().toISOString().split('T')[0],
                            status: 'Uploaded'
                        });
                    });
                    localStorage.setItem('uploadHistory', JSON.stringify(uploadHistory));
                    selectedFiles = [];
                    renderFileList();
                    submitBtn.disabled = true;
                }
            }, 200);
        }

        function renderHistory() {
            historyList.innerHTML = '';
            uploadHistory.forEach((item, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item fade-in';
                historyItem.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-file-pdf text-gray-500 text-2xl mr-3"></i>
                        <div>
                            <p class="font-semibold">${item.name}</p>
                            <p class="text-sm text-gray-600">${item.size} MB | ${item.date}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="px-2 py-1 bg-green-100 text-green-800 rounded">${item.status}</span>
                        <button onclick="deleteHistory(${index})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                historyList.appendChild(historyItem);
            });
        }

        function deleteHistory(index) {
            uploadHistory.splice(index, 1);
            localStorage.setItem('uploadHistory', JSON.stringify(uploadHistory));
            renderHistory();
        }

        function filterHistory() {
            const query = searchInput.value.toLowerCase();
            const filtered = uploadHistory.filter(item => item.name.toLowerCase().includes(query));
            historyList.innerHTML = '';
            filtered.forEach((item, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item fade-in';
                historyItem.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-file-pdf text-gray-500 text-2xl mr-3"></i>
                        <div>
                            <p class="font-semibold">${item.name}</p>
                            <p class="text-sm text-gray-600">${item.size} MB | ${item.date}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="px-2 py-1 bg-green-100 text-green-800 rounded">${item.status}</span>
                        <button onclick="deleteHistory(${uploadHistory.indexOf(item)})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                historyList.appendChild(historyItem);
            });
        }

        renderHistory(); // Default render
    </script>
</body>
</html>
</content>
</create_file>
